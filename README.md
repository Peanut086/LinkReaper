# LinkReaper - 书签链接检测与清理工具

一个功能完整的浏览器扩展程序，用于批量检测书签链接有效性，识别并清理失效链接。

## 功能特性

### 1. 书签管理与展示
- 完整读取浏览器所有书签数据
- 双视图展示系统：
  - 左侧：可折叠的树形菜单结构
  - 右侧：数据表格视图（标题、URL、添加日期等）
- 树形菜单支持展开/折叠操作
- 表格支持排序、搜索和筛选功能

### 2. 书签链接有效性检测
- 醒目的"开始检测"操作按钮
- 后台异步检测机制，支持检测进度显示
- 明确的视觉标识：
  - 有效链接（绿色）
  - 失效链接（红色）
  - 超时链接（橙色）
  - 检测中（蓝色）
- 实时更新检测结果

### 3. 失效书签管理
- 批量操作界面（单选、多选、全选）
- "删除所选"和"全部删除"操作
- 操作前确认对话框
- 删除操作反馈机制
- 操作撤销选项

## 技术要求

- 遵循现代浏览器扩展开发标准（Manifest V3）
- 兼容主流浏览器（Chrome、Firefox、Edge等）
- 响应式设计，适配不同屏幕尺寸
- 深色/浅色模式自适应
- 用户数据安全，不收集或传输任何用户书签信息

## 安装方法

### Chrome/Edge 浏览器

1. 下载或克隆本项目到本地
2. 打开浏览器，访问 `chrome://extensions/`
3. 启用"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择本项目文件夹

### Firefox 浏览器

1. 下载或克隆本项目到本地
2. 打开浏览器，访问 `about:debugging#/runtime/this-firefox`
3. 点击"临时载入附加组件"
4. 选择本项目中的 `manifest.json` 文件

## 使用说明

### 基本操作

1. **查看书签**：扩展启动后会自动加载所有书签，左侧树形菜单显示书签结构，右侧表格显示书签详情。

2. **检测链接**：点击"开始检测"按钮，扩展会自动检测所有书签链接的有效性。

3. **筛选结果**：使用筛选按钮可以查看全部、有效、失效或超时的书签。

4. **搜索书签**：在搜索框中输入关键词，可以快速查找特定书签。

5. **排序书签**：点击表格标题（标题、URL、添加日期）可以对书签进行排序。

6. **删除书签**：
   - 单选或多选书签后，点击"删除所选"
   - 点击"删除全部失效"可以一次性删除所有失效的书签
   - 点击"撤销删除"可以恢复最近删除的书签

### 主题切换

点击右上角的主题切换按钮，可以在深色模式和浅色模式之间切换。主题设置会自动保存。

## 项目结构

```
LinkReaper/
├── manifest.json          # 扩展配置文件
├── popup.html             # 主界面HTML
├── styles.css             # 样式文件
├── popup.js               # 主逻辑JavaScript
├── background.js          # 后台服务脚本
├── icons/                 # 图标文件
│   └── icon.svg          # SVG图标
└── README.md              # 项目说明
```

## 图标生成

项目提供了SVG格式的图标文件。如需生成PNG格式的图标，可以使用以下方法：

### 方法一：在线工具

1. 访问在线SVG转PNG工具（如：https://cloudconvert.com/svg-to-png）
2. 上传 `icons/icon.svg` 文件
3. 生成以下尺寸的PNG图标：
   - 16x16 (icon16.png)
   - 32x32 (icon32.png)
   - 48x48 (icon48.png)
   - 128x128 (icon128.png)
4. 将生成的PNG文件保存到 `icons/` 目录

### 方法二：使用命令行工具

如果安装了 ImageMagick：

```bash
cd icons
convert icon.svg -resize 16x16 icon16.png
convert icon.svg -resize 32x32 icon32.png
convert icon.svg -resize 48x48 icon48.png
convert icon.svg -resize 128x128 icon128.png
```

## 权限说明

本扩展需要以下权限：

- `bookmarks`：读取和管理书签
- `storage`：保存主题设置等用户偏好
- `tabs`：打开书签链接
- `<all_urls>`：检测书签链接的有效性

**隐私承诺**：本扩展不会收集、存储或传输任何用户的书签信息。所有数据处理均在本地完成。

## 开发说明

### 技术栈

- HTML5
- CSS3（CSS变量、Flexbox、Grid布局）
- 原生JavaScript（ES6+）
- Chrome Extensions API

### 浏览器兼容性

- Chrome 88+
- Edge 88+
- Firefox 78+
- 其他基于Chromium的浏览器

## 常见问题

**Q: 检测速度较慢怎么办？**

A: 检测速度取决于网络状况和书签数量。扩展已采用批量检测机制（每批5个），可以在代码中调整 `batchSize` 参数来优化性能。

**Q: 某些链接显示为失效但实际可以访问？**

A: 这可能是由于CORS限制导致的误判。扩展使用 `no-cors` 模式进行检测，某些网站可能会阻止此类请求。

**Q: 删除的书签可以恢复吗？**

A: 是的，扩展提供了"撤销删除"功能，可以恢复最近删除的书签。但请注意，如果关闭了扩展窗口，撤销功能将失效。

## 许可证

本项目采用 MIT 许可证。详见 [LICENSE](LICENSE) 文件。

## 贡献

欢迎提交 Issue 和 Pull Request！

## 更新日志

### v1.0.0 (2024-02-11)

- 初始版本发布
- 实现书签读取与展示功能
- 实现链接有效性检测功能
- 实现失效书签管理功能
- 支持深色/浅色主题切换
- 响应式设计，适配移动设备
